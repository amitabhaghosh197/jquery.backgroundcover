(function(i,t,e){"use strict";i.requestAnimFrame=function(){return i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||function(t){i.setTimeout(t,1e3/60)}}();function r(i){return t('<img style="position:static;display:block;" src="'+i+'"/>')}function n(i){var e=t('<div style="position:absolute;z-index:-99999999;width:100%;height:100%;" class="background-cover-image"/>');e.append(i);return e}function o(i,t,e){var o,a,s,c,g,m,u,d,h,p;s=t.css("backgroundPositionX");c=t.css("backgroundPositionY");i.propX=g=parseInt(s,10)===100?"right":"left";i.propY=m=parseInt(c,10)===100?"bottom":"top";i.cPropX=u=g==="right"?"marginRight":"marginLeft";i.cPropY=u=g==="bottom"?"marginBottom":"marginTop";i.centerX=h=parseInt(s,10)===50;i.centerY=p=parseInt(c,10)===50;i.src=e?e:t.css("backgroundImage").split(/(\(|\))/)[2];i.img=r(i.src);i.img.css(g,s);i.img.css(m,c);i.img.load(function(){i.imgH=o=i.img.prop("height");i.imgW=a=i.img.prop("width");i.mode=o<a?"landscape":"portrait";i.img.addClass(i.mode);i.ratio=a/o;i.ready=true;t.trigger("coverresize")});t.addClass("background-cover").css({position:"relative",overflow:"hidden",backgroundImage:"none"});i.container=n(i.img);i.container.append(i.img);t.append(i.container)}function a(i){return i.width()/i.height()}function s(t,e){var r=e.width(),n=e.height();(function o(){var t=false,a=e.height(),s=e.width();if(a!==r||s!==n){t=true;r=a;n=s}if(t){e.trigger("coverresize")}i.requestAnimFrame(o)})();e.on("coverresize",function(){var i=a(e),r,n,o,s=t.container.height(),c=t.container.width(),g=0,m=0;if(t.mode==="landscape"){if(i<t.ratio){n=s;o=s*t.ratio}else{n=c/t.ratio;o=c}}if(t.mode==="portrait"){if(i>t.ratio){n=c/t.ratio;o=c}else{n=s;o=s*t.ratio}}m=t.centerX?0-Math.round((o-c)/2):0;g=t.centerY?0-Math.round((n-s)/2):0;r={height:n,width:o};r[t.cPropX]=m;r[t.cPropY]=g;t.img.css(r)})}function c(i,t){this.element=i;o(this,i);s(this,i)}t.fn.backgroundcover=function(i){return this.each(function(e,r){new c(t(r),i)})}})(this,this.jQuery);